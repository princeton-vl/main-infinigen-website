---
id: Creating stereo pairs
sidebar_position: 4
description: Create a Markdown Document
slug: /part2
---

### Running single scenes

To get started, do the following to generate a coarse terrain:

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs
  defaultValue="Linux"
  values={[
      { label: 'Linux/WSL', value: 'Linux', },
      { label: 'MacOS', value: 'Mac', },
  ]}
>
<TabItem value="Linux">

```Linux
cd worldgen
../blender/blender --background -noaudio --python generate.py -- --seed 0 --task coarse --output_folder outputs/dev/coarse
```

</TabItem>
<TabItem value="Mac">

```Mac
cd worldgen
../Blender.app/Contents/MacOS/Blender --background -noaudio --python generate.py -- --seed 0 --task coarse --output_folder outputs/dev/coarse
```

</TabItem>
</Tabs>

This will produce a file at `outputs/dev/coarse/scene.blend`, which you can inspect in blender.

"desert" can be other gin files.

Then, on a machine with a display, open the produced blender file to inspect results:
`blender outputs/dev/scene.blend`

After this, do the following to generate a fine terrain based on camera views:

<Tabs
  defaultValue="Linux"
  values={[
      { label: 'Linux/WSL', value: 'Linux', },
      { label: 'MacOS', value: 'Mac', },
  ]}
>
<TabItem value="Linux">

```Linux
../blender/blender --background -noaudio --python generate.py -- --seed 0 --task populate fine_terrain --input_folder outputs/dev/coarse --output_folder outputs/dev/fine
```

</TabItem>
<TabItem value="Mac">

```Mac
cd worldgen
../Blender.app/Contents/MacOS/Blender --background -noaudio --python generate.py -- --seed 0 --task populate fine_terrain --input_folder outputs/dev/coarse --output_folder outputs/dev/fine
```

</TabItem>
</Tabs>

"main.frames" can be any frame in the blend file
if you want to subdivide multi view, which may be useful for video, set, e.g., 'main.frames = [1, 2]'

### Running on a SLURM cluster

##### Render batches of images on SLURM for visualization

```
python -m tools.manage_datagen_jobs --output_folder outputs/myjob --num_scenes 200 --pipeline_configs pvl stereo --cleanup big_files
```

to use gpu (high_quality_terrain in configs to make more use of gpu)

```
python -m tools.manage_datagen_jobs --configs high_quality_terrain --output_folder outputs/myjob --num_scenes 200 --pipeline_configs pvl enable_gpu stereo --cleanup big_files
```

##### Render stereo pairs at large scale on SLURM, with auto upload and cleanup

```
python -m tools.manage_datagen_jobs --output_folder outputs/myjob --num_scenes 50000 --pipeline_configs pvl stereo --warmup_sec 3000 --cleanup all --upload
```


